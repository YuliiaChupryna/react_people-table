(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),s=n.n(c),o=n(9),l=n(5),u=(n(27),n(12)),m=n.n(u),i=n(10),p=n(20),h=n(21),d=n(6),f=n.n(d),E=function(e){var t=e.name,n=e.sex;return r.a.createElement("span",{className:"m"===n?"person--man":"person--woman"},t)},b=function(e){var t=e.titles,n=e.person,a=e.match,c=e.history,s=e.location;return r.a.createElement("tr",{className:f()("person","person--lived-in-".concat(n.century),{"person--selected":n.name.toLowerCase().split(" ").join("-")===a.params.personName}),onClick:function(){c.push({pathname:"/people/".concat(n.name.toLowerCase().split(" ").join("-")),search:s.search})}},t.map(function(e){switch(e){case"name":return r.a.createElement("td",{className:f()({"person--born-before-1650":n.born<1650},{"person--died-after-1800":n.died>1800})},r.a.createElement(E,{name:n.name,sex:n.sex}));case"sex":return r.a.createElement("td",{className:f()({"person--male":"m"===n.sex},{"person--female":"f"===n.sex})},n.sex);case"age":return r.a.createElement("td",{className:f()({"person--old":n.age>=65})},n.age);case"mother":return r.a.createElement("td",null,""!==n.mother&&r.a.createElement(E,{name:n.mother,sex:"f"}));case"father":return r.a.createElement("td",null,""!==n.father&&r.a.createElement(E,{name:n.father,sex:"m"}));case"children":return r.a.createElement("td",null,n.children.map(function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{name:e.name,sex:e.sex}),t!==n.children.length-1&&", ")}));default:return r.a.createElement("td",null,n[e])}}))},g=function(e){return fetch(e).then(function(e){return e.json()})},y=function(e){return e.map(function(t,n){return Object(h.a)({},t,{children:e.filter(function(e){return e.father===t.name||e.mother===t.name}),age:t.died-t.born,century:Math.ceil(t.died/100),id:n+1})})},v=function(e){var t=e.match,n=e.history,c=e.location,s=Object(a.useState)([]),o=Object(p.a)(s,2),l=o[0],u=o[1];Object(a.useEffect)(function(){h()},[]);var h=function(){var e;return m.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(g("https://mate-academy.github.io/react_people-table/api/people.json"));case 3:e=t.sent,u(Object(i.a)(y(e))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),u([]);case 10:case"end":return t.stop()}},null,null,[[0,7]])},d=new URLSearchParams(c.search),E=function(e,t){return e.filter(function(e){return e.name.toLowerCase().includes(t)||(e.father||"").toLowerCase().includes(t)||(e.mother||"").toLowerCase().includes(t)})},v=["id","name","sex","born","died","age","century","mother","father","children"];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Currently visible people:"," ",E(l,d.get("query")||"").length),r.a.createElement("input",{onChange:function(e){var t=e.target.value;""===t?(d.delete("query"),n.push({search:d.toString()})):(d.set("query",t.toLowerCase()),n.push({search:d.toString()}))},className:"people__search",type:"text",placeholder:"Search"}),r.a.createElement("table",{className:"people-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,v.map(function(e){switch(e){case"mother":case"father":case"children":return r.a.createElement("th",null,e.toUpperCase());default:return r.a.createElement("th",{className:f()("title--sortable",{"title--active":d.get("sortBy")===e}),onClick:function(){return t=e,d.get("sortBy")===t&&"asc"===d.get("sortOrder")?d.set("sortOrder","desc"):d.set("sortOrder","asc"),t===d.get("sortBy")?u(Object(i.a)(l).reverse()):u(Object(i.a)(function(e,t){return e.sort(function(e,n){return"string"===typeof e[t]?e[t].localeCompare(n[t]):e[t]-n[t]})}(l,t))),d.set("sortBy",t),void n.push({search:d.toString()});var t}},e.toUpperCase())}}))),r.a.createElement("tbody",null,E(l,d.get("query")||"").map(function(e){return r.a.createElement(b,{key:e.id,titles:v,person:e,match:t,history:n,location:c})}))))},w=function(){return r.a.createElement("div",{className:"people"},r.a.createElement(o.b,{to:"/people",className:"people__link"},"People"),r.a.createElement(l.a,{path:"/people/:personName?",component:v}))};s.a.render(r.a.createElement(o.a,null,r.a.createElement(w,{test:123})),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.cc7855cc.chunk.js.map