(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(34)},27:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c),o=a(10),l=a(5),m=(a(27),a(12)),u=a.n(m),i=a(8),p=a(20),h=a(21),d=a(6),f=a.n(d),E=function(e){var t=e.name,a=e.sex;return r.a.createElement("span",{className:"m"===a?"person--man":"person--woman"},t)},b=function(e){var t=e.titles,a=e.person,n=e.match,c=e.history,s=e.location;return r.a.createElement("tr",{className:f()("person","person--lived-in-".concat(a.century),{"person--selected":a.name.toLowerCase().split(" ").join("-")===n.params.personName}),onClick:function(){c.push({pathname:"/people/".concat(a.name.toLowerCase().split(" ").join("-")),search:s.search})}},t.map(function(e){switch(e){case"name":return r.a.createElement("td",{className:f()({"person--born-before-1650":a.born<1650},{"person--died-after-1800":a.died>1800})},r.a.createElement(E,{name:a.name,sex:a.sex}));case"sex":return r.a.createElement("td",{className:f()({"person--male":"m"===a.sex},{"person--female":"f"===a.sex})},a.sex);case"age":return r.a.createElement("td",{className:f()({"person--old":a.age>=65})},a.age);case"mother":return r.a.createElement("td",null,""!==a.mother&&r.a.createElement(E,{name:a.mother,sex:"f"}));case"father":return r.a.createElement("td",null,""!==a.father&&r.a.createElement(E,{name:a.father,sex:"m"}));case"children":return r.a.createElement("td",null,a.children.map(function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{name:e.name,sex:e.sex}),t!==a.children.length-1&&", ")}));default:return r.a.createElement("td",null,a[e])}}))},g=function(e){return fetch(e).then(function(e){return e.json()})},y=function(e){return e.map(function(t,a){return Object(h.a)({},t,{children:e.filter(function(e){return e.father===t.name||e.mother===t.name}),age:t.died-t.born,century:Math.ceil(t.died/100),id:a+1})})},w=function(e){var t=e.match,a=e.history,c=e.location,s=Object(n.useState)([]),o=Object(p.a)(s,2),l=o[0],m=o[1];Object(n.useEffect)(function(){E()},[]);var h,d,E=function(){var e;return u.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(g("https://mate-academy.github.io/react_people-table/api/people.json"));case 3:e=t.sent,m(Object(i.a)(y(e))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),m([]);case 10:case"end":return t.stop()}},null,null,[[0,7]])},w=new URLSearchParams(c.search),v=["id","name","sex","born","died","age","century","mother","father","children"];return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{onChange:function(e){var t=e.target.value;w.set("query",t.toLowerCase()),a.push({search:w.toString()})},className:"people__search",type:"text",placeholder:"Search"}),r.a.createElement("table",{className:"people-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,v.map(function(e){switch(e){case"mother":case"father":case"children":return r.a.createElement("th",null,e.toUpperCase());default:return r.a.createElement("th",{className:f()("title--sortable",{"title--active":w.get("sortBy")===e}),onClick:function(){return t=e,w.get("sortBy")===t&&"asc"===w.get("sortOrder")?w.set("sortOrder","desc"):w.set("sortOrder","asc"),t===w.get("sortBy")?m(Object(i.a)(l).reverse()):m(Object(i.a)(function(e,t){return e.sort(function(e,a){return"string"===typeof e[t]?e[t].localeCompare(a[t]):e[t]-a[t]})}(l,t))),w.set("sortBy",t),void a.push({search:w.toString()});var t}},e.toUpperCase())}}))),r.a.createElement("tbody",null,Object(i.a)((h=Object(i.a)(l),d=w.get("query")||"",h.filter(function(e){return e.name.toLowerCase().includes(d)||(e.father||"").toLowerCase().includes(d)||(e.mother||"").toLowerCase().includes(d)}))).map(function(e){return r.a.createElement(b,{key:e.id,titles:v,person:e,match:t,history:a,location:c})}))))},v=function(){return r.a.createElement("div",{className:"people"},r.a.createElement(o.b,{to:"/people",className:"people__link"},"People"),r.a.createElement(l.a,{path:"/people/:personName?",component:w}))};s.a.render(r.a.createElement(o.a,null,r.a.createElement(v,{test:123})),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.b1f46188.chunk.js.map