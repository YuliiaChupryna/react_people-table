(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,r){e.exports=r(34)},27:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(17),s=r.n(c),o=r(10),l=r(5),u=(r(27),r(12)),m=r.n(u),i=r(9),p=r(20),h=r(21),d=r(6),f=r.n(d),E=function(e){var t=e.name,r=e.sex;return n.a.createElement("span",{className:"m"===r?"person--man":"person--woman"},t)},g=function(e){var t=e.titles,r=e.person,a=e.match,c=e.history,s=e.location;return n.a.createElement("tr",{className:f()("person","person--lived-in-".concat(r.century),{"person--selected":r.name.toLowerCase().split(" ").join("-")===a.params.personName}),onClick:function(){c.push({pathname:"/people/".concat(r.name.toLowerCase().split(" ").join("-")),search:s.search})}},t.map(function(e){switch(e){case"name":return n.a.createElement("td",{className:f()({"person--born-before-1650":r.born<1650},{"person--died-after-1800":r.died>1800})},n.a.createElement(E,{name:r.name,sex:r.sex}));case"sex":return n.a.createElement("td",{className:f()({"person--male":"m"===r.sex},{"person--female":"f"===r.sex})},r.sex);case"age":return n.a.createElement("td",{className:f()({"person--old":r.age>=65})},r.age);case"mother":return n.a.createElement("td",null,""!==r.mother&&n.a.createElement(E,{name:r.mother,sex:"f"}));case"father":return n.a.createElement("td",null,""!==r.father&&n.a.createElement(E,{name:r.father,sex:"m"}));case"children":return n.a.createElement("td",null,r.children.map(function(e,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement(E,{name:e.name,sex:e.sex}),t!==r.children.length-1&&", ")}));default:return n.a.createElement("td",null,r[e])}}))},b=function(e){return fetch(e).then(function(e){return e.json()})},y=function(e){return e.map(function(t,r){return Object(h.a)({},t,{children:e.filter(function(e){return e.father===t.name||e.mother===t.name}),age:t.died-t.born,century:Math.ceil(t.died/100),id:r+1})})},v=function(e){var t=e.match,r=e.history,c=e.location,s=Object(a.useState)([]),o=Object(p.a)(s,2),l=o[0],u=o[1];Object(a.useEffect)(function(){E()},[]);var h,d,E=function(){var e;return m.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(b("https://mate-academy.github.io/react_people-table/api/people.json"));case 3:e=t.sent,u(Object(i.a)(y(e))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),u([]);case 10:case"end":return t.stop()}},null,null,[[0,7]])},v=new URLSearchParams(c.search),w=function(e,t){return e.sort(function(e,r){return"string"===typeof e[t]?e[t].localeCompare(r[t]):e[t]-r[t]})},x=["id","name","sex","born","died","age","century","mother","father","children"],O=(h=l,d=v.get("query")||"",h.filter(function(e){return e.name.toLowerCase().includes(d)||(e.father||"").toLowerCase().includes(d)||(e.mother||"").toLowerCase().includes(d)}));return O=v.get("sortBy")&&v.get("sortOrder")?function(e,t,r){return"desc"===r?Object(i.a)(w(e,t)).reverse():Object(i.a)(w(e,t))}(Object(i.a)(O),v.get("sortBy"),v.get("sortOrder")):O,n.a.createElement(n.a.Fragment,null,n.a.createElement("h3",null,"Currently visible people:"," ",O.length),n.a.createElement("input",{onChange:function(e){var t=e.target.value;""===t?(v.delete("query"),r.push({search:v.toString()})):(v.set("query",t.toLowerCase()),r.push({search:v.toString()}))},className:"people__search",type:"text",placeholder:"Search"}),n.a.createElement("table",{className:"people-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,x.map(function(e){switch(e){case"mother":case"father":case"children":return n.a.createElement("th",null,e.toUpperCase());default:return n.a.createElement("th",{className:f()("title--sortable",{"title--active":v.get("sortBy")===e}),onClick:function(){return t=e,void(v.get("sortBy")&&v.get("sortOrder")&&(t===v.get("sortBy")?"asc"===v.get("sortOrder")?v.set("sortOrder","desc"):v.set("sortOrder","asc"):(v.set("sortBy",t),v.set("sortOrder","asc")),r.push({search:v.toString()})));var t}},e.toUpperCase())}}))),n.a.createElement("tbody",null,O.map(function(e){return n.a.createElement(g,{key:e.id,titles:x,person:e,match:t,history:r,location:c})}))))},w=function(){return n.a.createElement("div",{className:"people"},n.a.createElement(o.b,{to:"/people",className:"people__link"},"People"),n.a.createElement(l.a,{path:"/people/:personName?",component:v}))};s.a.render(n.a.createElement(o.a,null,n.a.createElement(w,{test:123})),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a9157ff7.chunk.js.map